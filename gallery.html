<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–∞–ª–µ—Ä–µ—è —Ä–∞–±–æ—Ç - –ö–æ–≥—Ç–∏–∫</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #87CEEB 0%, #FFB6C1 100%);
            color: #333;
            padding: 10px;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 20px;
            background: rgba(0,0,0,0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .filters {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .filter-btn.active {
            background: white;
            color: #87CEEB;
            border-color: white;
            transform: scale(1.05);
        }

        .filter-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .work-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .work-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .work-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .work-card:hover .work-image {
            transform: scale(1.1);
        }

        .work-info {
            padding: 16px;
        }

        .work-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            line-height: 1.3;
            color: #333;
        }

        .work-description {
            color: #666;
            font-size: 13px;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .work-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            color: #999;
            margin-bottom: 10px;
        }

        .work-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            margin-bottom: 10px;
        }

        .tag {
            background: linear-gradient(45deg, #87CEEB, #FFB6C1);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 500;
        }

        .work-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #999;
            border-top: 1px solid #f0f0f0;
            padding-top: 10px;
        }

        .price {
            font-weight: bold;
            color: #4CAF50;
        }

        .views {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            color: white;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .empty {
            text-align: center;
            color: white;
            padding: 40px;
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: relative;
            background: white;
            margin: 5% auto;
            padding: 20px;
            width: 90%;
            max-width: 500px;
            border-radius: 15px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-close {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #999;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: #f5f5f5;
        }

        .modal-close:hover {
            background: #ddd;
            color: #333;
        }

        .modal-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 16px;
        }

        .order-btn {
            width: 100%;
            background: linear-gradient(45deg, #87CEEB, #FFB6C1);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 16px;
            transition: transform 0.2s ease;
        }

        .order-btn:hover {
            transform: scale(1.02);
        }

        @media (max-width: 768px) {
            body {
                padding: 8px;
            }

            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 12px;
            }

            .header {
                padding: 16px;
            }

            .header h1 {
                font-size: 20px;
            }

            .work-card {
                border-radius: 12px;
            }

            .work-image {
                height: 180px;
            }

            .filters {
                gap: 6px;
            }

            .filter-btn {
                padding: 6px 12px;
                font-size: 12px;
            }
        }

        @media (max-width: 480px) {
            .gallery {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üñºÔ∏è –ì–∞–ª–µ—Ä–µ—è —Ä–∞–±–æ—Ç</h1>
        <p>–ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è ¬´–ö–æ–≥—Ç–∏–∫¬ª ‚Ä¢ –ú–µ–±–µ–ª—å –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤ —Å 2019 –≥–æ–¥–∞</p>
    </div>

    <div class="filters">
        <div class="filter-btn active" data-filter="all">üîç –í—Å–µ —Ä–∞–±–æ—Ç—ã</div>
        <div class="filter-btn" data-filter="cats">üê± –î–ª—è –∫–æ—à–µ–∫</div>
        <div class="filter-btn" data-filter="dogs">üêï –î–ª—è —Å–æ–±–∞–∫</div>
        <div class="filter-btn" data-filter="premium">‚≠ê –ü—Ä–µ–º–∏—É–º</div>
    </div>

    <div id="loading" class="loading">
        <div class="spinner"></div>
        <div>–ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—à–∏ —Ä–∞–±–æ—Ç—ã...</div>
    </div>

    <div id="gallery" class="gallery" style="display: none;"></div>

    <div id="empty" class="empty" style="display: none;">
        <div class="empty-icon">üì≠</div>
        <h3>–ù–µ—Ç —Ä–∞–±–æ—Ç –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π —Ñ–∏–ª—å—Ç—Ä</p>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-close">&times;</div>
            <img id="modal-image" class="modal-image" alt="">
            <h3 id="modal-title"></h3>
            <p id="modal-description"></p>
            <div id="modal-tags" class="work-tags"></div>
            <div id="modal-specs"></div>
            <button class="order-btn" onclick="orderWork()">
                üìû –ó–∞–∫–∞–∑–∞—Ç—å —ç—Ç—É —Ä–∞–±–æ—Ç—É
            </button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram?.WebApp;
        if (tg) {
            tg.ready();
            tg.expand();
            tg.enableClosingConfirmation();
        }

        // –î–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç
        const works = [
            {
                id: 1,
                title: "–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–º–ø–ª–µ–∫—Å '–¶–∞—Ä—Å–∫–∏–π –¥–≤–æ—Ä–µ—Ü'",
                description: "–†–æ—Å–∫–æ—à–Ω—ã–π 5-—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–º–ø–ª–µ–∫—Å –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∫–æ—à–µ–∫ —Å –∫–æ–≥—Ç–µ—Ç–æ—á–∫–∞–º–∏, –¥–æ–º–∏–∫–∞–º–∏ –∏ –ª–µ–∂–∞–Ω–∫–∞–º–∏ –∏–∑ premium –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤",
                image: "https://images.unsplash.com/photo-1545008344-4c1b3c5a5a53?w=400&h=300&fit=crop",
                hashtags: ["#–∫–æ–º–ø–ª–µ–∫—Å", "#–ø—Ä–µ–º–∏—É–º", "#–∫—Ä—É–ø–Ω—ã–µ–∫–æ—à–∫–∏", "#5—É—Ä–æ–≤–Ω–µ–π"],
                category: "cats",
                type: "premium",
                dimensions: "180√ó80√ó60 —Å–º",
                materials: "–ë–µ—Ä–µ–∑–æ–≤–∞—è —Ñ–∞–Ω–µ—Ä–∞, –¥–∂—É—Ç, –ø–ª—é—à",
                price: "15 000 - 25 000 ‚ÇΩ",
                views: 145
            },
            {
                id: 2,
                title: "–ù–∞—Å—Ç–µ–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å '–î–∂—É–Ω–≥–ª–∏'",
                description: "–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–æ–∫ –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ—à–µ–∫. –ö—Ä–µ–ø–∏—Ç—Å—è –∫ —Å—Ç–µ–Ω–µ, —ç–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ",
                image: "https://images.unsplash.com/photo-1574144611937-0df059b5ef3e?w=400&h=300&fit=crop",
                hashtags: ["#–Ω–∞—Å—Ç–µ–Ω–Ω—ã–π", "#–º–æ–¥—É–ª—å–Ω—ã–π", "#–∞–∫—Ç–∏–≤–Ω—ã–µ", "#—ç–∫–æ–Ω–æ–º–∏—è"],
                category: "cats",
                type: "wall",
                dimensions: "200√ó40√ó160 —Å–º",
                materials: "–ú–∞—Å—Å–∏–≤ —Å–æ—Å–Ω—ã, —Å–∏–∑–∞–ª—å",
                price: "8 000 - 12 000 ‚ÇΩ",
                views: 98
            },
            {
                id: 3,
                title: "–õ–µ—Å–µ–Ω–∫–∞ '–ö–æ–º—Ñ–æ—Ä—Ç'",
                description: "–î–µ—Ä–µ–≤—è–Ω–Ω–∞—è –ª–µ—Å–µ–Ω–∫–∞ —Å –∞–Ω—Ç–∏—Å–∫–æ–ª—å–∑—è—â–∏–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º –¥–ª—è –ø–æ–∂–∏–ª—ã—Ö –∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–æ–±–∞–∫. –†–µ–≥—É–ª–∏—Ä—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞",
                image: "https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=400&h=300&fit=crop",
                hashtags: ["#–ª–µ—Å–µ–Ω–∫–∞", "#—Å–æ–±–∞–∫–∏", "#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "#–ø–æ–∂–∏–ª—ã–µ"],
                category: "dogs",
                type: "stairs",
                dimensions: "60√ó35√ó40 —Å–º",
                materials: "–ú–∞—Å—Å–∏–≤ –¥—É–±–∞, —Ä–µ–∑–∏–Ω–∞",
                price: "3 000 - 5 000 ‚ÇΩ",
                views: 67
            },
            {
                id: 4,
                title: "–î–æ–º–∏–∫-–±–µ—Ä–ª–æ–≥–∞ '–£—é—Ç–Ω—ã–π'",
                description: "–ó–∞–∫—Ä—ã—Ç—ã–π –¥–æ–º–∏–∫-—É–∫—Ä—ã—Ç–∏–µ –¥–ª—è –ø—É–≥–ª–∏–≤—ã—Ö –∫–æ—à–µ–∫ —Å –º—è–≥–∫–æ–π –ø–æ–¥—É—à–∫–æ–π –∏ —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–µ–π",
                image: "https://images.unsplash.com/photo-1548247416-ec66f4900b2e?w=400&h=300&fit=crop",
                hashtags: ["#–¥–æ–º–∏–∫", "#—É–∫—Ä—ã—Ç–∏–µ", "#—É—é—Ç", "#–±–µ—Ä–ª–æ–≥–∞"],
                category: "cats",
                type: "house",
                dimensions: "45√ó45√ó35 —Å–º",
                materials: "–§–∞–Ω–µ—Ä–∞, –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ö",
                price: "2 500 - 4 000 ‚ÇΩ",
                views: 123
            },
            {
                id: 5,
                title: "–ò–≥—Ä–æ–≤–æ–π –∫–æ–º–ø–ª–µ–∫—Å '–ö–æ—Å–º–æ—Å'",
                description: "–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω —Å LED-–ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤",
                image: "https://images.unsplash.com/photo-1541781774459-bb2af2f05b55?w=400&h=300&fit=crop",
                hashtags: ["#–∫–æ—Å–º–æ—Å", "#LED", "#–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤", "#–¥–∏–∑–∞–π–Ω"],
                category: "cats",
                type: "premium",
                dimensions: "150√ó70√ó180 —Å–º",
                materials: "–ü–ª–∞—Å—Ç–∏–∫, –º–µ—Ç–∞–ª–ª, LED",
                price: "20 000 - 30 000 ‚ÇΩ",
                views: 234
            },
            {
                id: 6,
                title: "–ü–∞–Ω–¥—É—Å '–ì–∏–≥–∞–Ω—Ç'",
                description: "–°–∫–ª–∞–¥–Ω–æ–π –ø–∞–Ω–¥—É—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫—Ä—É–ø–Ω—ã—Ö —Å–æ–±–∞–∫ –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª—å. –õ–µ–≥–∫–∏–π –∏ –ø—Ä–æ—á–Ω—ã–π –∞–ª—é–º–∏–Ω–∏–µ–≤—ã–π –∫–∞—Ä–∫–∞—Å",
                image: "https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=300&fit=crop",
                hashtags: ["#–ø–∞–Ω–¥—É—Å", "#–∞–≤—Ç–æ", "#–∫—Ä—É–ø–Ω—ã–µ—Å–æ–±–∞–∫–∏", "#—Å–∫–ª–∞–¥–Ω–æ–π"],
                category: "dogs",
                type: "ramp",
                dimensions: "180√ó40√ó8 —Å–º",
                materials: "–ê–ª—é–º–∏–Ω–∏–π, —Ä–µ–∑–∏–Ω–∞",
                price: "4 500 - 7 000 ‚ÇΩ",
                views: 89
            }
        ];

        let currentFilter = 'all';
        let currentWorks = works;

        // –§—É–Ω–∫—Ü–∏–∏
        function renderGallery(worksToShow) {
            const gallery = document.getElementById('gallery');
            const empty = document.getElementById('empty');

            if (!worksToShow.length) {
                gallery.style.display = 'none';
                empty.style.display = 'block';
                return;
            }

            empty.style.display = 'none';
            gallery.style.display = 'grid';
            gallery.innerHTML = '';

            worksToShow.forEach(work => {
                const card = createWorkCard(work);
                gallery.appendChild(card);
            });
        }

        function createWorkCard(work) {
            const card = document.createElement('div');
            card.className = 'work-card';
            card.onclick = () => openModal(work);

            card.innerHTML = `
                <img src="${work.image}" alt="${work.title}" class="work-image" loading="lazy">
                <div class="work-info">
                    <h3 class="work-title">${work.title}</h3>
                    <p class="work-description">${work.description}</p>
                    <div class="work-meta">
                        <span>üìè ${work.dimensions}</span>
                        <span>üî® ${work.materials.split(',')[0]}</span>
                    </div>
                    <div class="work-tags">
                        ${work.hashtags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <div class="work-stats">
                        <div class="price">${work.price}</div>
                        <div class="views">üëÄ ${work.views}</div>
                    </div>
                </div>
            `;

            return card;
        }

        function filterWorks(filter) {
            currentFilter = filter;

            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-filter="${filter}"]`).classList.add('active');

            // –§–∏–ª—å—Ç—Ä—É–µ–º —Ä–∞–±–æ—Ç—ã
            if (filter === 'all') {
                currentWorks = works;
            } else if (filter === 'premium') {
                currentWorks = works.filter(work => work.type === 'premium');
            } else {
                currentWorks = works.filter(work => work.category === filter);
            }

            renderGallery(currentWorks);

            // Haptic feedback –¥–ª—è Telegram
            if (tg?.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }

        function openModal(work) {
            const modal = document.getElementById('modal');
            const modalImage = document.getElementById('modal-image');
            const modalTitle = document.getElementById('modal-title');
            const modalDescription = document.getElementById('modal-description');
            const modalTags = document.getElementById('modal-tags');
            const modalSpecs = document.getElementById('modal-specs');

            modalImage.src = work.image;
            modalImage.alt = work.title;
            modalTitle.textContent = work.title;
            modalDescription.textContent = work.description;
            modalTags.innerHTML = work.hashtags.map(tag => `<span class="tag">${tag}</span>`).join('');
            modalSpecs.innerHTML = `
                <p><strong>üìè –†–∞–∑–º–µ—Ä—ã:</strong> ${work.dimensions}</p>
                <p><strong>üî® –ú–∞—Ç–µ—Ä–∏–∞–ª—ã:</strong> ${work.materials}</p>
                <p><strong>üí∞ –¶–µ–Ω–∞:</strong> ${work.price}</p>
                <p><strong>üëÄ –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤:</strong> ${work.views}</p>
            `;

            modal.style.display = 'block';

            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
            work.views++;

            // Haptic feedback
            if (tg?.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function orderWork() {
            if (tg?.sendData) {
                tg.sendData(JSON.stringify({
                    action: 'order_work',
                    message: '–•–æ—á—É –∑–∞–∫–∞–∑–∞—Ç—å –∏–∑–¥–µ–ª–∏–µ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏'
                }));
            }

            if (tg?.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('heavy');
            }

            closeModal();
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.addEventListener('DOMContentLoaded', () => {
            // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                renderGallery(works);
            }, 1000);

            // –§–∏–ª—å—Ç—Ä—ã
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const filter = e.target.getAttribute('data-filter');
                    filterWorks(filter);
                });
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            document.querySelector('.modal-close').onclick = closeModal;
            document.getElementById('modal').onclick = (e) => {
                if (e.target === document.getElementById('modal')) {
                    closeModal();
                }
            };
        });

        // –ö–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã –ø–æ–¥ Telegram
        if (tg?.colorScheme === 'dark') {
            document.body.style.background = 'linear-gradient(135deg, #2c3e50 0%, #34495e 100%)';
        }
    </script>
</body>
</html>
